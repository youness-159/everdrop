import{r as a,j as e,H as c}from"./index-D20nmIH3.js";import{H as l}from"./index-CbIC06Fo.js";import{UserContext as o}from"./userContextAPI-CEPSfSC_.js";import{u as x}from"./useQuery-BIalZ7-4.js";import{b as d}from"./orderAPI-BzBGFoew.js";import{L as m}from"./Loader-D6LGd44p.js";import{s as j}from"./shopAPI-BOLETFd3.js";import"./helpers-CVGqI_J_.js";import"./userAPI-CITHf_Ex.js";import"./utils-km2FGkQ4.js";function u(){const{data:s,isLoading:r,error:i}=x({queryFn:d,queryKey:["my-orders"]});return{myOrders:s,isLoading:r,error:i}}function L(){const{user:s}=a.useContext(o);return console.log(s),e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-5xl text-center font-normal mt-12 text-zinc-700 py-24",children:"My Account"}),e.jsxs("div",{className:"flex px-64 gap-12",children:[e.jsxs("div",{className:"w-[65vw]",children:[e.jsx(n,{title:"Order History"}),e.jsx(f,{})]}),e.jsxs("div",{className:" relative bg-red- w-[30vw]",children:[e.jsx(n,{title:"Account Details"}),e.jsx(t,{icon:e.jsx(c,{}),info:s.fullName}),e.jsx(t,{icon:e.jsx(l,{}),info:s.email})]})]})]})}function n({title:s}){return e.jsx("h1",{className:"pb-5 mb-6 text-[2.8rem] text-zinc-700 font-light border-b border-zinc-700",children:s})}function f(){const{myOrders:s,isLoading:r}=u();return r?e.jsx(m,{}):e.jsx("div",{className:"w-full",children:s==null?void 0:s.map(i=>e.jsx(p,{order:i},i._id))})}function p({order:s}){var r;return e.jsxs("div",{className:"py-12 border-b border-zinc-400 flex justify-between gap-12 pr-12",children:[e.jsx("div",{className:"space-y-6",children:(r=s.products)==null?void 0:r.map(i=>e.jsx(h,{product:i},i._id))}),e.jsxs("div",{className:"flex gap-12 ",children:[e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold mb-2",children:["Order: #",s.orderNumber]}),e.jsxs("p",{className:"font-semibold",children:["Total: $",s.price]})]}),e.jsx("div",{children:new Date(s.createdAt).toLocaleDateString()})]})]})}function h({product:s}){return e.jsxs("div",{className:"flex items-center gap-12 col-span-2 ",children:[e.jsx("div",{children:e.jsx("div",{className:"w-32 h-32 border",children:e.jsx("img",{src:`${j}/imgs/products/${s.coverImage}`,alt:"image"})})}),e.jsxs("div",{children:[e.jsx("p",{children:s.name}),e.jsxs("p",{children:["Sku: #",s==null?void 0:s.sku]}),e.jsxs("p",{children:[s.quantity," x $",s.price]})]})]})}function t({icon:s,info:r}){return e.jsxs("div",{className:"flex gap-6 items-center py-4",children:[e.jsx("span",{className:"text-4xl text-zinc-700",children:s}),e.jsx("span",{children:r})]})}export{L as default};
