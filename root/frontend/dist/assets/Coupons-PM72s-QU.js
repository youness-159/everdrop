import{u as d,_ as m,j as e,n as u,p as l}from"./index-D20nmIH3.js";import{A as p}from"./AdminOutletSectionHeader-DpLbBbDD.js";import{A as c}from"./AdminTable-UeoeK4Q3.js";import{S as x}from"./Search-CgZ0GjKj.js";import{S as j}from"./SelectInput-CslllkI4.js";import{a as f}from"./helpers-CVGqI_J_.js";import{F as a}from"./FromToInputs-DA4IT43M.js";import{u as h}from"./index.esm-DmimYm8l.js";import{u as C}from"./useQuery-BIalZ7-4.js";import{d as b,g as A,a as y}from"./couponAPI-ChP47HpJ.js";import{A as S,a as n,b as g,c as T,d as r}from"./AdminTableHeader-CeDydQu4.js";import{P as F}from"./Paginator-BhqViCok.js";import{A as D}from"./AdminTableOperations-C_aKMgX_.js";import{L as O}from"./Loader-D6LGd44p.js";import{u as H}from"./useMutation-DyA3nlKG.js";import"./Button-H5VG5V_F.js";import"./bundle-mjs-3VKOpVsw.js";import"./index-Cq_GCqD9.js";import"./utils-km2FGkQ4.js";import"./shopAPI-BOLETFd3.js";import"./index-CbIC06Fo.js";import"./useGettingSearchParam-B5YD3o1n.js";function L(){const s=d(),{mutate:o}=H({mutationFn:b,onSuccess:()=>{m.success("Coupon is deleted"),s.invalidateQueries(["coupons"])},onError:()=>m.error("Coupon deletion failed")});return{mutate:o}}function ee(){const{data:s,error:o,isLoading:i}=C({queryKey:["coupons"],queryFn:y});return i?e.jsx(O,{}):e.jsxs(e.Fragment,{children:[e.jsx(p,{title:"Coupons",buttonName:"Add coupon",buttonLink:"new"}),e.jsx(w,{}),e.jsxs(c,{children:[e.jsxs(S,{children:[e.jsx(n,{children:"Coupon Code"}),e.jsx(n,{children:"Start Date"}),e.jsx(n,{children:"End Date"}),e.jsx(n,{children:"Status"}),e.jsx(n,{children:"Used Times"})]}),e.jsx(g,{children:s==null?void 0:s.map(t=>e.jsxs(T,{children:[e.jsx(r,{children:t.code}),e.jsx(r,{children:t.startDate}),e.jsx(r,{children:t.endDate}),e.jsx(r,{children:t.status?"Enable":"Disable"}),e.jsx(r,{children:"??"}),e.jsx(r,{children:e.jsx(E,{id:t._id})})]},t._id))})]}),e.jsx(F,{getRecordsFn:A})]})}function w(){const{register:s,handleSubmit:o}=h();function i(t){console.log(t)}return e.jsxs("form",{className:"px-6 py-6 flex justify-between gap-[4%]",onSubmit:o(i),children:[e.jsx(x,{placeholder:"Coupon",className:"w-[35%]"}),e.jsx(a,{children:e.jsx(u,{})}),e.jsx(a,{children:e.jsx(u,{})}),e.jsx(j,{defaultValue:"Status",options:f,name:"status",register:s}),e.jsx(a,{children:e.jsx(l,{})})]})}function E({id:s}){const{mutate:o}=L();return e.jsx(D,{id:s,mutate:o})}export{ee as default};
