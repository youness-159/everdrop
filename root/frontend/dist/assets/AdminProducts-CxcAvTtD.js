import{u as m,_ as o,j as e,l as c,m as l}from"./index-D20nmIH3.js";import{A as d}from"./AdminOutletSectionHeader-DpLbBbDD.js";import{S as i}from"./Search-CgZ0GjKj.js";import{S as u}from"./SelectInput-CslllkI4.js";import{F as n}from"./FromToInputs-DA4IT43M.js";import{s as x}from"./helpers-CVGqI_J_.js";import{A as p}from"./AdminTable-UeoeK4Q3.js";import{A as j,a as f,b as h,c as g,d as s}from"./AdminTableHeader-CeDydQu4.js";import{u as P,P as S}from"./Paginator-BhqViCok.js";import{A as b}from"./AdminTableOperations-C_aKMgX_.js";import{L as A}from"./Loader-D6LGd44p.js";import{u as y}from"./useProducts-BnD_q15P.js";import{u as T}from"./useMutation-DyA3nlKG.js";import{d as F,g as k}from"./productAPI-DVH5Y8XO.js";import{F as N}from"./Form-Bb_4C8Am.js";import{s as w}from"./shopAPI-BOLETFd3.js";import"./Button-H5VG5V_F.js";import"./bundle-mjs-3VKOpVsw.js";import"./index-Cq_GCqD9.js";import"./index-CbIC06Fo.js";import"./index.esm-DmimYm8l.js";import"./useGettingSearchParam-B5YD3o1n.js";import"./useQuery-BIalZ7-4.js";import"./utils-km2FGkQ4.js";function O(){const r=m(),{mutate:t}=T({mutationFn:F,onSuccess:()=>{o.success("Product is deleted"),r.invalidateQueries(["products"])},onError:()=>o.error("Product deletion failed")});return{mutate:t}}function se(){const{products:r,isLoading:t}=y();return t?e.jsx(A,{}):e.jsxs(e.Fragment,{children:[e.jsx(d,{title:"Products",buttonName:"Add Product",buttonLink:"new"}),e.jsx(C,{}),e.jsx(I,{products:r})]})}function C(){const{onSearchBy:r}=P("products");return e.jsxs(N,{className:"px-6 py-6 flex justify-between gap-[4%]",children:[e.jsx(i,{placeholder:"Products",className:"w-[35%]",name:"productName",onSearch:r("productName")}),e.jsx(n,{onFrom:r("price[gte]"),onTo:r("price[lte]"),children:e.jsx(c,{})}),e.jsx(i,{placeholder:"SKU",className:"w-[35%]",name:"sku",onSearch:r("sku")}),e.jsx(n,{onFrom:r("quantity[gte]"),onTo:r("quantity[lte]"),children:e.jsx(l,{})}),e.jsx(u,{defaultValue:"Stock",options:x,onChange:r("inStock")})]})}function I({products:r}){return e.jsxs(e.Fragment,{children:[e.jsxs(p,{children:[e.jsx(j,{children:["Image","Title","Price","SKU","Qty","Stock"].map((t,a)=>e.jsx(f,{children:t},a))}),e.jsx(h,{children:r==null?void 0:r.map(t=>e.jsxs(g,{children:[e.jsx(s,{children:e.jsx("div",{className:"w-36 border flex items-center h-36 mx-auto",children:e.jsx("img",{src:`${w}/imgs/products/${t.coverImage}`,className:"w-full ",alt:"image"})})}),e.jsx(s,{children:t.name}),e.jsx(s,{children:t.price}),e.jsx(s,{children:t.sku}),e.jsx(s,{children:t.quantity}),e.jsx(s,{children:t.inStock?"In":"Out"}),e.jsx(s,{children:e.jsx(H,{id:t._id})})]},t._id))})]}),e.jsx(S,{getRecordsFn:k})]})}function H({id:r}){const{mutate:t}=O();return e.jsx(b,{id:r,mutate:t})}export{se as default};
