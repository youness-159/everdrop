import{_ as r,w as d,r as w,j as e,H as y,A as l,L as N}from"./index-D20nmIH3.js";import{u as c}from"./index.esm-DmimYm8l.js";import{I as s}from"./Input-vhI47h7Q.js";import{F as u}from"./Form-Bb_4C8Am.js";import{L as C}from"./Logo-CLGUa75o.js";import{H as F}from"./index-CbIC06Fo.js";import{UserContext as E}from"./userContextAPI-CEPSfSC_.js";import{B as H}from"./Button-H5VG5V_F.js";import{H as m}from"./Header-CqzZOjQ-.js";import{u as p}from"./useMutation-DyA3nlKG.js";import{s as L,G as O,o as I}from"./GoogleButton-Dm9E0RVb.js";import{v as P}from"./userAPI-CITHf_Ex.js";import{L as V}from"./Loader-D6LGd44p.js";import"./bundle-mjs-3VKOpVsw.js";import"./index-Cq_GCqD9.js";import"./helpers-CVGqI_J_.js";import"./Modal-Vl1I1XdS.js";import"./categoryAPI-Dutoc9WM.js";import"./shopAPI-BOLETFd3.js";import"./utils-km2FGkQ4.js";function k(){const{mutate:t,data:i,isSuccess:a,isPending:n}=p({mutationFn:L,onSuccess:()=>{r.success("Signup successfully")},onError:()=>r.error("Signup failed")});return{mutate:t,isSuccess:a,isPending:n}}function z(){const t=d(),{mutate:i}=p({mutationFn:P,onSuccess:()=>{r.success("email verified successfully"),t("/login")},onError:()=>r.error("email verification failed")});return{mutate:i}}function se(){const{register:t,handleSubmit:i}=c(),{register:a,handleSubmit:n}=c(),{mutate:x,isSuccess:f,isPending:g}=k(),{mutate:j}=z(),h=d(),{user:S}=w.useContext(E);localStorage.token&&h("/");function b(o){x(o),localStorage.setItem("email",o.email)}function v(o){j({...o,email:localStorage.getItem("email")})}return g?e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsx(V,{})]}):f?e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsxs(u,{className:"w-1/4 absolute top-1/2 left-1/2 bg-white p-12 -translate-x-1/2 -translate-y-1/2 rounded-xl",onSubmit:n(v),children:[e.jsx("div",{className:"mb-9  text-center text-[1.7rem] text-zinc-700",children:S.email}),e.jsx(s,{type:"text",name:"verificationCode",placeholder:"Enter Verification Code",maxLength:6,register:a})]})]}):e.jsxs(e.Fragment,{children:[e.jsx(m,{}),e.jsxs(u,{className:"w-1/4 absolute top-1/2 left-1/2 bg-white p-12 -translate-x-1/2 -translate-y-1/2 rounded-xl",onSubmit:i(b),children:[e.jsx(C,{className:"flex justify-center mb-12"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(s,{type:"text",placeholder:"Full Name",register:t,name:"fullName",icon:e.jsx(y,{})}),e.jsx(s,{type:"text",placeholder:"Email",register:t,name:"email",icon:e.jsx(F,{})}),e.jsx(s,{type:"password",placeholder:"Password",register:t,name:"password",icon:e.jsx(l,{})}),e.jsx(s,{type:"password",placeholder:"Confirm Password",register:t,name:"passwordConfirm",icon:e.jsx(l,{})})]}),e.jsx(H,{className:"filled w-full mt-6",children:"Sign up"}),e.jsxs("p",{className:"mt-6",children:["Already have an account? Â "," ",e.jsx(N,{to:"/login",className:"hover:border-b border-zinc-800 duration-[.3s]",children:"login"})]}),e.jsx("div",{className:"text-center text-[1.5rem] font-semibold text-zinc-700  mt-6",children:"OR"}),e.jsx("div",{className:"mt-6",children:e.jsx(O,{onClick:I,iconClassName:"w-10",text:"Sign up with Google"})})]})]})}export{se as default};
