import{j as e,u as g,z as j,r as m,L as b}from"./index-D20nmIH3.js";import{a as S,b as P,c as v,d as C}from"./index-CbIC06Fo.js";import{t as N}from"./bundle-mjs-3VKOpVsw.js";import{u as y}from"./index.esm-DmimYm8l.js";import{u as L}from"./useGettingSearchParam-B5YD3o1n.js";function h({name:s,defaultValue:r,register:n}){return e.jsx("input",{type:"text",className:"w-[4.4rem] p-3 text-center h-full rounded-xl border ",defaultValue:r,...n?n(s):{}})}function k(s){const r=g(),[n,i]=j();function a(o){return function(t){var c,u;n.set(o,((c=t==null?void 0:t.target)==null?void 0:c.value)??t),(!((u=t==null?void 0:t.target)!=null&&u.value)&&t.target!==void 0||t==="")&&n.delete(o),i(n),r.invalidateQueries([s])}}return{onSearchBy:a}}function V({className:s,getRecordsFn:r}){const{register:n,handleSubmit:i}=y(),{onSearchBy:a}=k("products");function o(x){a("limit")(x.limit)}function f(x){a("page")(x.page)}let t=L("page");const[c,u]=m.useState(1);function d(){a("page")(++t),u(+t)}function p(){a("page")(t>1?--t:t),u(+t)}return e.jsxs("div",{className:N("flex text-slate-500 justify-between items-center py-6 text-2xl",s),children:[e.jsxs("form",{className:"space-x-3",onSubmit:i(o),children:[e.jsx("span",{children:"Show"}),e.jsx(h,{name:"limit",register:n,defaultValue:10}),e.jsx("span",{children:"per page"})]}),r&&e.jsx(w,{getRecordsFn:r}),e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx(l,{onClick:p,children:e.jsx(S,{})}),e.jsx(l,{onClick:p,children:e.jsx(P,{})}),e.jsx("form",{action:"",onSubmit:i(f),children:e.jsx(h,{name:"page",defaultValue:c,register:n})}),e.jsx(l,{onClick:d,children:e.jsx(v,{})}),e.jsx(l,{onClick:d,children:e.jsx(C,{})})]})]})}function l({children:s,to:r,onClick:n}){return e.jsx(b,{to:r,className:"p-3 text-3xl border bg-white rounded-full",children:e.jsx("button",{onClick:n,children:s})})}function w({getRecordsFn:s}){const[r,n]=m.useState(!1),[i,a]=m.useState(0);return m.useEffect(()=>{n(!0),s().then(o=>{a(o)}).finally(()=>{n(!1)})},[s]),r?e.jsx("p",{children:".."}):e.jsxs("p",{children:[i," records"]})}export{V as P,k as u};
