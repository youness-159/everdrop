import{r as o,j as e,L as r,W as x,w as m,z as h,H as p,X as j,Y as g}from"./index-D20nmIH3.js";import{L as f}from"./Logo-CLGUa75o.js";import{M as c}from"./Modal-Vl1I1XdS.js";import{UserContext as N}from"./userContextAPI-CEPSfSC_.js";import{L as b}from"./Loader-D6LGd44p.js";import{B as S}from"./Button-H5VG5V_F.js";import{I as v}from"./Input-vhI47h7Q.js";import{u as w}from"./index.esm-DmimYm8l.js";import{a as L}from"./categoryAPI-Dutoc9WM.js";function M(){const[s,i]=o.useState([]),[a,n]=o.useState(!0);return o.useEffect(()=>{(async()=>(i(await L()),n(!1)))()},[]),a?e.jsx(b,{}):e.jsxs("header",{className:"flex justify-between py-8 px-24 border-b bg-zinc-50",children:[e.jsx(f,{}),e.jsx("nav",{children:e.jsx("ul",{className:"flex gap-4 ",children:s==null?void 0:s.map(t=>e.jsx("li",{children:e.jsx(r,{to:`/products?category=${t._id}&page=1`,className:"hover:border-b-2 hover:border-gray-800",children:t.name})},t._id))})}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(I,{}),e.jsx(r,{to:"/cart",children:e.jsx(x,{className:"w-9 h-9"})}),e.jsx(O,{})]})]})}function O(){const s=m(),{setUser:i}=o.useContext(N);let a=!0;const n=localStorage.getItem("token");(n==="null"||n===null)&&(a=!1),h();function t(){localStorage.removeItem("token"),i({}),s("/")}return e.jsx("div",{className:"relative",children:e.jsxs(c,{children:[e.jsx(c.Open,{opens:"userOptions",children:e.jsx("button",{children:e.jsx(p,{className:"w-9 h-9"})})}),e.jsx(c.Window,{name:"userOptions",children:e.jsxs("ul",{className:"absolute top-[120%]  z-40 left-1/2 rounded-lg -translate-x-1/2 bg-white shadow-lg p-6",children:[e.jsx("li",{className:"p-2",children:e.jsx(r,{to:"/admin",children:"admin"})}),!a&&e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"p-2",children:e.jsx(r,{to:"/login",children:"login"})}),e.jsx("li",{className:"p-2",children:e.jsx(r,{to:"/signup",children:"sign up"})})]}),a&&e.jsxs(e.Fragment,{children:[e.jsx("li",{className:"p-2",children:e.jsx(r,{to:"/account",children:"account"})}),e.jsx("li",{className:"p-2",children:e.jsx("button",{onClick:t,className:"text-red-700",children:"logout"})})]})]})})]})})}function I(){const[s,i]=o.useState(!1),{register:a,handleSubmit:n}=w(),t=m();function u(){i(l=>!l)}function d(l){t("/products?name="+l["search-products"])}return e.jsxs("div",{className:"flex gap-6 items-baseline relative",children:[s&&e.jsxs("form",{action:"",onSubmit:n(d),className:"absolute -left-[25rem] w-96 top-0 flex items-center gap-4 ",children:[e.jsx(v,{type:"search",name:"search-products",register:a,className:"h-10"}),e.jsx("button",{className:"text-4xl",children:e.jsx(j,{})})]}),e.jsx(S,{onClick:u,children:e.jsx(g,{className:"w-9 h-9"})})]})}export{M as H};
